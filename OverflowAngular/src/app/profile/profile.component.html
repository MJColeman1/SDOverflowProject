<div class="container-fluid">

  <section class="content">

    <!-- OPEN USER INFO DIV -->
    <div class="container">

      <h2>{{user.username | titlecase}}'s Profile</h2>
      <button (click)='backToPost()' class="btn btn-primary" style="padding-right: 10px">Back to Posts</button>
      <button (click)='updateForm=true' class="btn btn-primary" style="padding-right: 20px">Update Profile</button>
      <div class="row">
        <div class="col-lg-8 col-md-8">

          <div class="post">

            <!-- acc section -->
            <div class="accsection">
              <div class="acccap">
                <div class="userinfo pull-left">&nbsp;</div>
                <div class="clearfix"></div>
              </div>
              <div class="topwrap">
                <div class="userProfile">
                  <h2>Username: {{user.username | titlecase}}</h2>
                  <p>Name: {{user.profile.firstName}} {{user.profile.lastName}}</p>
                  <p>Email: {{user.profile.email}}</p>
                  <div *ngIf="user.profile.address.street">
                    <p>{{user.profile.address.street}}</p>
                    <p *ngIf="user.profile.address.street2">{{user.profile.address.street2}}</p>
                    <p>{{user.profile.address.city}}, {{user.profile.address.state}} {{user.profile.address.country}} {{user.profile.address.zip}}</p>
                  </div>
                  <p *ngIf="user.profile.cohort">Skill Distillery Cohort: {{user.profile.cohort}}</p>
                  <p *ngIf="user.profile.employer.name">Current Employer: {{user.profile.employer.name}}</p>
                  <div *ngIf="user.profile.technologies.length > 0">
                    <p>Technologies:</p>
                    <ul>
                      <li *ngFor="let tech of user.profile.technologies">
                        {{tech.name}}
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="clearfix"></div>
              </div>
            </div>
            <!-- acc section END -->

            <div class="postinfobot">
              <div class="clearfix"></div>
            </div>
          </div>
          <!-- End User Info -->


        </div>
        <div class="col-lg-4 col-md-4">

          <!-- Posts Sidebar -->
          <div class="sidebarblock">
            <h3>Top Posts</h3>
            <div class="divline"></div>
            <div class="blocktxt">
              <ul class="cats">
                <li *ngFor="let post of user.posts">
                  <p>{{post.name}}</p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

    <!-- CLOSE USER INFO DIV -->
    </div>
    <!-- OPEN FORM DIV -->
    <div class="container">

      <div *ngIf="updateForm">
        <form  #updateForm="ngForm">
          <div class="row">
            <div class="form-group col-lg-6 col-md-6">
              <label for="profileFirstName">First Name</label>
              <input type="text" placeholder="First Name" class="form-control" name="profileFirstName" [ngModel]="user.profile.firstName"/>
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label for="profileLastName">Last Name</label>
              <input type="text" placeholder="Last Name" class="form-control" name="profileLastName" [ngModel]="user.profile.lastName"/>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-lg-6 col-md-6">
              <label for="profileEmail">Email Address</label>
              <input type="text" placeholder="Email Address" class="form-control" name="profileEmail" [ngModel]="user.profile.email"/>
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label for="profileCohort">Cohort</label>
              <input type="text" placeholder="Cohort" class="form-control" name="profileCohort" [ngModel]="user.profile.cohort">
            </div>
          </div>
          <div class="row">
            <div class="form-group col-lg-6 col-md-6">
              <label for="addressStreet">Street</label>
              <input type="text" placeholder="Street" class="form-control" name="addressStreet" [ngModel]="user.profile.address.street">
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label for="addressStreet2">Street cont...</label>
              <input type="text" placeholder="Street cont..." class="form-control" name="addressStreet2" [ngModel]="user.profile.address.street2"/>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-lg-6 col-md-6">
              <label for="addressCity">City</label>
              <input type="text" placeholder="City" class="form-control" name="addressCity" [ngModel]="user.profile.address.city"/>
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label for="addressState">State</label>
              <input type="text" placeholder="State" class="form-control" name="addressState" [ngModel]="user.profile.address.state"/>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-lg-6 col-md-6">
              <label for="addressCountry">Country</label>
              <input type="text" placeholder="Country" class="form-control" name="addressCountry" [ngModel]="user.profile.address.country"/>
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label for="addressZip">Zip</label>
              <input type="text" placeholder="Zip" class="form-control" name="addressZip" [ngModel]="user.profile.address.zip"/>
            </div>
          </div>

          <!-- COMMENTING OUT BECAUSE THERE IS NO TIME TO POLISH THE FORM ENOUGH AND INCORPORATE THIS RIGHT NOW -->
          <!-- <div class="form-group">
            <label for="employer">Select your employer</label>
            <select class="form-control" name="employerName" [ngModel]="user.profile.employer.name">
              <option *ngFor="let employer of employers">{{employer.name}}</option>
            </select>
          </div> -->

          <div class="row">
            <div class="form-group col-lg-6 col-md-6">
              <label for="employerName">Employer Name</label>
              <input type="text" placeholder="Employer Name" class="form-control" name="employerName" [ngModel]="user.profile.employer.name">
            </div>
            <div class="form-group col-lg-6 col-md-6">
                <label for="employerHiring">Hiring</label>
                <input type="text" class="form-control" name="employerHiring" [ngModel]="user.profile.employer.hiring">
            </div>
          </div>
          <div class="row">
            <div class="form-group col-lg-6 col-md-6">
              <label for="employerAddressStreet">Employer Street</label>
              <input type="text" placeholder="Employer Street" class="form-control" name="employerAddressStreet" [ngModel]="user.profile.employer.address.street">
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label for="employerAddressStreet2">Employer Street cont...</label>
              <input type="text" placeholder="Street cont..." class="form-control" name="employerAddressStreet2" [ngModel]="user.profile.employer.address.street2"/>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-lg-6 col-md-6">
              <label for="employerAddressCity">Employer City</label>
              <input type="text" placeholder="Employer City" class="form-control" name="employerAddressCity" [ngModel]="user.profile.employer.address.city"/>
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label for="employerAddressState">Employer State</label>
              <input type="text" placeholder="Employer State" class="form-control" name="employerAddressState" [ngModel]="user.profile.employer.address.state"/>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-lg-6 col-md-6">
              <label for="employerAddressCountry">Employer Country</label>
              <input type="text" placeholder="Country" class="form-control" name="employerAddressCountry" [ngModel]="user.profile.employer.address.country"/>
            </div>
            <div class="form-group col-lg-6 col-md-6">
              <label for="employerAddressZip">Employer Zip</label>
              <input type="text" placeholder="Employer Zip" class="form-control" name="employerAddressZip" [ngModel]="user.profile.employer.address.zip"/>
            </div>
          </div>

          <div class="form-group">
            <button (click)='updateProfile(updateForm)' class="btn btn-primary text-center" style="padding-left: 25px">Update Profile</button>
          </div>
        </form>
      </div>

    <!-- CLOSE FORM DIV -->
    </div>

  </section>

</div>
